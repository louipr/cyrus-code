description: Test type action.
metadata:
  status: draft
  tags:
    - actions
    - type
test_cases:
  - id: setup_input
    description: Create test input element
    steps:
      - action: evaluate
        code: |
          const input = document.createElement('input');
          input.id = 'test-input';
          input.setAttribute('data-testid', 'test-input');
          document.body.appendChild(input);
          return { created: true };
        timeout: 1000
        why: Create a test input element.

  - id: type_in_input
    description: Type text into input
    depends: [setup_input]
    steps:
      - action: type
        selector: "#test-input"
        text: "hello world"
        timeout: 1000
        why: Type text using IPC-based type action.

      - action: evaluate
        code: |
          const input = document.getElementById('test-input');
          const value = input ? input.value : null;
          if (input) input.remove();
          return { value };
        timeout: 1000
        expect:
          type: value
          value: { value: "hello world" }
        why: Verify typed text and cleanup.
